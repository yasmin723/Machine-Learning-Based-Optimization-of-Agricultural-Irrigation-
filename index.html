<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Irrigation System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

<!-- NAVBAR -->
<header class="navbar">
    <div class="nav-left">
        <h2>Smart Irrigation System</h2>
        <span class="live-tag">‚óè DEMO MODE</span>
    </div>
    <div class="nav-right">
        <a href="{{ url_for('index') }}" class="active">Dashboard</a>
        <a href="{{ url_for('analytics') }}">Analytics</a>
    </div>
</header>

<!-- DASHBOARD CONTENT -->
<div class="dashboard-container">

    <!-- CLIMATE & SOIL DATA -->
    <div class="section-title">üå§ Climate & Soil Data</div>
    <div class="dashboard-grid">
        <div class="card climate-card">
            <div class="label">üå° Temperature</div>
            <span class="big-value"><span id="temp">--</span> ¬∞C</span>
        </div>

        <div class="card climate-card">
            <div class="label">üíß Humidity</div>
            <span class="big-value"><span id="hum">--</span> %</span>
        </div>

        <div class="card climate-card">
            <div class="label">üå± Soil Moisture</div>
            <span class="big-value"><span id="soil">--</span> %</span>
        </div>

        <div class="card climate-card">
            <div class="label">‚öó pH Level</div>
            <span class="big-value"><span id="ph">--</span></span>
        </div>
    </div>

    <!-- NUTRIENTS -->
    <div class="section-title">üß™ Nutrient Levels</div>
    <div class="nutrient-grid">
        <div class="card"><div class="label">Nitrogen (N)</div><span id="n_val">--</span></div>
        <div class="card"><div class="label">Phosphorus (P)</div><span id="p_val">--</span></div>
        <div class="card"><div class="label">Potassium (K)</div><span id="k_val">--</span></div>
    </div>

    <!-- ML PREDICTION -->
    <div class="section-title">ü§ñ Machine Learning Prediction</div>
    <div class="card algo-card full-width">
        <div class="label">Optimal Soil Moisture (Predicted)</div>
        <span id="pred" class="big-value">--</span> %
        <p class="note">Used for automatic irrigation decision</p>

        <label class="label">Select Algorithm</label>
        <select id="algo-select">
            <option value="rf" selected>Random Forest</option>
            <option value="nn">Neural Network</option>
            <option value="gb">Gradient Boosting</option>
            <option value="svm">SVM</option>
        </select>
    </div>

    <!-- IRRIGATION STATUS -->
<div class="card pump-card">

    <!-- LEFT: STATUS INFO -->
    <div class="pump-info">

        <div class="label">üöø Irrigation Control Status</div>

        <!-- Decision -->
        <div id="irrigation-decision" class="decision-box">
            --
        </div>

        <!-- Pump Execution -->
        <div class="status-row">
            <span class="status-label">Pump:</span>
            <span id="pump-status" class="status-badge">--</span>
        </div>

        <!-- Mode -->
        <div class="status-row">
            <span class="status-label">Mode:</span>
            <span id="mode-label" class="mode-badge auto">AUTO</span>
        </div>

        <!-- Description -->
        <div class="note" id="mode-desc">
            System controlled using ML prediction
        </div>

    </div>

    <!-- RIGHT: CONTROLS -->
    <div class="mode-panel">

        <button id="auto-btn" class="mode-btn active">AUTO MODE</button>
        <button id="manual-mode-btn" class="mode-btn">MANUAL MODE</button>

        <div id="manual-controls">
            <button id="motor-btn">PUMP ON</button>
        </div>

    </div>

</div>
 


    <!-- SOIL MOISTURE CHART -->
    <div class="card chart-card">
        <div class="label">Soil Moisture Trend</div>
        <canvas id="liveChart"></canvas>
    </div>

</div>

<!-- FOOTER -->
<footer class="footer">
    <p>Tech Stack: Python ‚Ä¢ Flask ‚Ä¢ Machine Learning ‚Ä¢ HTML ‚Ä¢ CSS ‚Ä¢ JavaScript</p>
    <p>Final Year Project ‚Äì SmartCropIoT</p>
</footer>

<script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
</body>
</html>